/* styles/helpers.css — micro-утилиты без визуала */

/* ── Home hero paddings & anchor offsets (with dvh fallbacks) */
:root{
  --home-hero-pt-min: 12px;
  /* Fallbacks: vh по умолчанию — работает везде */
  --home-hero-pt-ideal: 6vh;   /* верх сильнее сжимается на коротких экранах */
  --home-hero-pt-max: 9vh;

  --home-hero-pb-min: 10px;
  --home-hero-pb-ideal: 2.5vh;
  --home-hero-pb-max: 4vh;

  /* Anchor offset for section jump positions */
  --anchor-offset: 12vh; /* можно тюнить при ревью */
}

/* dvh — только при поддержке */
@supports (height: 100dvh){
  :root{
    --home-hero-pt-ideal: 6dvh;
    --home-hero-pt-max: 9dvh;

    --home-hero-pb-ideal: 2.5dvh;
    --home-hero-pb-max: 4dvh;

    --anchor-offset: 12dvh;
  }
}

@layer components {
  .home-hero-foreground{
    padding-top: clamp(var(--home-hero-pt-min), var(--home-hero-pt-ideal), var(--home-hero-pt-max));
    padding-bottom: clamp(var(--home-hero-pb-min), var(--home-hero-pb-ideal), var(--home-hero-pb-max));
  }

  .section-anchor-offset{
    scroll-margin-top: var(--anchor-offset);
  }
}

/* На очень коротких вьюпортах чуть выше останавливаем */
@media (max-height: 700px){
  :root{ --anchor-offset: 14vh; }
}
@supports (height: 100dvh){
  @media (max-height: 700px){
    :root{ --anchor-offset: 14dvh; }
  }
}

@layer components {
  /* Полностью прозрачный «щит» для контента:
     отключает blur/filters/blend родителя и изолирует стек. */
  .content-contrast-reset {
    background-color: transparent !important;
    background-image: none !important;
    filter: none !important;
    mix-blend-mode: normal !important;
    backdrop-filter: none !important;
    -webkit-backdrop-filter: none !important;
    isolation: isolate !important;
    position: relative; /* помогает с z-index при необходимости */
  }
}

@layer utilities {
  .font-ui-role {
    font-family: var(--font-ui, system-ui), -apple-system, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
  }
  .font-brand-role {
    font-family: var(--font-brand, var(--font-ui, system-ui)), -apple-system, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
  }
  .font-serif-role {
    font-family: var(--font-serif, Georgia, "Times New Roman", Times, serif);
  }
  .font-mono-role {
    font-family: var(--font-mono, ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace);
  }
}
